<!DOCTYPE html SYSTEM "html">
<html><head><META http-equiv="Content-Type" content="text/html; charset=utf-8"><title> TXtruct Format Description </title><style>
				body { font: Georgia, serif; }
				ul { list-style: none; margin: 0; padding: 0; }
				div.class {
					margin-bottom: 1ex;
				}
				div.class>ul {
					vertical-align: text-top;
				}
				li { padding: 0; margin: 0; min-height: 3ex; }
				li:empty { display: none; }
				.ll { display: flex; align-items: baseline; }
				.ll>span:first-child { white-space: pre; }
				.comment {
					color: #208020;
					font-size: medium;
					font-weight: normal;
					position: relative;
					padding-left: 12pt;
				}
				.comment::before {
					position: absolute;
					left: 0;
					content: '/*';
				}
				.comment::after {
					content: '*/';
				}
				span.comment:not(:first-child) { margin-left: 1em; }
				table { vertical-align: text-top; }
				th { vertical-align: text-top; }
				ul.class>li {
					display: list-item;
				}
				ul.class>li:first-of-type {
					margin-left: 15pt;
					padding-left: 6pt;
				}
				ul.class>li:first-of-type::marker {
					content: '::=';
					color: #0000D0;
					font-weight: bold;
				}
				ul.class>li:not(:first-of-type) {
					margin-left: 10pt;
					padding-left: 10pt;
				}
				ul.class>li:not(:first-of-type)::marker {
					content: '|';
					font-size: 120%;
					color: #0000D0;
					font-weight: bold;
				}
				ul.paren>li:first-of-type {
					margin-left: 5pt;
					padding-left: 5pt;
				}
				ul.paren>li:first-of-type::marker {
					content: '(';
				}
				ul.paren>li:not(:first-of-type) {
					margin-left: 10pt;
				}
				ul.choice>li:not(:first-of-type) {
					margin-left: 5pt;
					padding-left: 5pt;
				}
				ul.choice>li:not(:first-of-type)::marker {
					content: '|';
					font-size: 110%;
					color: #0000D0;
					font-weight: bold;
				}
				ul.inner>li { margin-left: 20pt; }
				ul.inline, ul.inline ul {
					display: inline;
				}
				ul.inline li {
					display: inline;
					margin-left: 2pt;
					padding-left: 0pt;
				}
				ul.inner>li.txtr-children, ul.inner>li.txtr-close { margin-left: 0; }
				.ctrl {
					color: #0000D0;
					font-weight: bold;
				}
				.kw {
					color: #0000D0;
					font-weight: bold;
					font-style: italic;
				}
				.regex {
					font-family: monospace;
					white-space:pre;
					margin:1pt;
					padding: 2pt;
					background-color: #E0E0FF;
				}
				.xpath {
					font-family: monospace;
					white-space:pre;
					margin:1pt;
					padding: 2pt;
					background-color: #C0FFFF;
				}
				.const {
					font-family: monospace;
					background-color: #E0E0E0;
					margin:1pt;
					padding:2pt;
					white-space:pre;
				}
				span.class {
					font-style: italic;
					font-weight: bold;
					padding: 2pt;
				}
				.comment { display: inline-block; }
			</style></head><body><h1> TXtruct Format Description </h1><p>Input method is XML.</p><table class="class"><tr><th class="class-header"><span class="class">name</span></th><td><ul class="class"><li><ul><li><span class="regex">[A-Za-z_][0-9A-Za-z_\-]*</span><span class="comment"> Names of elements or attributes. </span></li></ul></li></ul></td></tr></table><table class="class"><tr><th class="class-header"><span class="class">method</span></th><td><ul class="class"><li><ul><li><span class="regex">xml(-fragment)?|html(-fragment)?|text</span><span class="comment"> Input/Output method specification. </span></li></ul></li></ul></td></tr></table><table class="class"><tr><th class="class-header"><span class="class">occur-attributes</span></th><td><ul class="class"><li><ul><li><span class="ll"><span>(<span class="const">maxOccurs="</span><span class="regex">[0-9]+|unbounded</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Attribute for maximum occurrences. </span></span></li><li><span class="ll"><span>(<span class="const">minOccurs="</span><span class="regex">[0-9]+</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Attribute for minimum occurrences. </span></span></li></ul></li></ul></td></tr></table><table class="class"><tr><th class="class-header"><span class="class">mode-attribute</span></th><td><ul class="class"><li><ul><li><span class="ll"><span><span class="const">mode="</span><span class="regex">in|out|io|dummy</span><span class="const">"</span></span><span class="comment"> Attribute for prettyprinting the transformer input syntax. `out` and `dummy` calls will not be printed. </span></span></li></ul></li></ul></td></tr></table><table class="class"><tr><th class="class-header"><span class="class">expression</span></th><td><ul class="class"><li><ul><li><span class="ll"><span class="const">&lt;in-element</span><span class="comment"> Reads into an element. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">name="</span><span class="class">name</span><span class="const">"</span></span><span class="comment"> The tag name of the element. </span></span></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Gives a name to the process result. </span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Processor sequence applied on the attributes or content of the element. </span></span></li></ul><span class="const">&lt;/in-element&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;read-element</span><span class="comment"> Reads an element, without processing its content. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">name="</span><span class="class">name</span><span class="const">"</span></span></span></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Names a variable containing the content of the element. It can be accessed e.g. via &lt;value-of select="xxx"/&gt;. </span></span></li></ul><span class="const">/&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;in-comment</span><span class="comment"> Reads into a comment and processes the content. This expression must be tested before expressions that read texts or elements. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">skipSpaces="</span><span class="regex">yes|no</span><span class="const">"</span></span><span class="comment"> Allows skipping spaces before the comment. </span></span></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Expression that processes the comment text. </span></span></li></ul><span class="const">&lt;/in-comment&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;read-comment</span><span class="comment"> Reads a comment node, without processing its content. This expression must be tested before expressions that read texts or elements. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">skipSpaces="</span><span class="regex">yes|no</span><span class="const">"</span></span><span class="comment"> Allows skipping spaces before the comment. </span></span></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span><span><span class="class">mode-attribute</span><sup class="ctrl">?</sup></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Names the variable containing the comment text. </span></span></li></ul><span class="const">/&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;read-text</span><span class="comment"> Reads any text. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span>(<span class="const">minOccurs="</span><span class="regex">0|1</span><span class="const">"</span>)<sup class="ctrl">?</sup></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span></span></li></ul><span class="const">/&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;match</span><span class="comment"> Reads matching text. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Names the match result. When this value is `v`, `v/match` contains the whole matched string, and `v/group[i]` contains the substring that the `i`th group of the regular expression matches. </span></span></li><li><span class="ll"><span>(<span class="const">sensitive="</span><span class="regex">yes|no</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Specifies if the grammer depends on the match result, i.e., context sensitive. </span></span></li><li><ul class="paren choice"><li><ul><li><span class="ll"><span><span class="const">pattern="</span><span class="kw">text</span><span class="const">"</span></span></span></li><li class="txtr-close"><span class="const">/&gt;</span></li></ul></li><li><ul><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><sup class="kw">+</sup></span><span class="comment"> Processor sequence to produce the pattern. </span></span></li><li class="txtr-close"><span class="const">&lt;/match&gt;</span></li></ul></li></ul>)</li><li class="txtr-close"></li></ul></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;read-any</span><span class="comment"> Reads any text or element. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Names the read node. </span></span></li></ul><span class="const">/&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;read-attribute</span><span class="comment"> Reads an attribute of the specified name. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">name="</span><span class="class">name</span><span class="const">"</span></span></span></li><li><ul class="paren choice"><li><span class="ll"><span><span class="const">pattern="</span><span class="kw">text</span><span class="const">"</span></span><span class="comment"> Regular expression the entire attribute value should match. The result is as specified in `match` element. </span></span></li><li><span class="ll"><span><span class="const">class="</span><span class="class">name</span><span class="const">"</span></span><span class="comment"> The class the attribute value is processed. </span></span></li></ul>)<sup class="ctrl">?</sup></li><li><span class="ll"><span>(<span class="const">minOccurs="</span><span class="regex">0|1</span><span class="const">"</span>)<sup class="ctrl">?</sup></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Names the attribute value. If omited, the value of `name` attribute will be used. </span></span></li></ul><span class="const">/&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;call</span><span class="comment"> Calls a class. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">ref="</span><span class="class">name</span><span class="const">"</span></span><span class="comment"> The name of the class. </span></span></li><li><span class="ll"><span>(<span class="const">level="</span><span class="regex">[0-9]+</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> Options above the specified level will be considered. </span></span></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span></span></li><li><span><span><span class="class">mode-attribute</span><sup class="ctrl">?</sup></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Processors for building arguments. </span></span></li></ul><span class="const">&lt;/call&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;group</span><span class="comment"> Builds a processor sequence. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li><span class="ll"><span>(<span class="const">as="</span><span class="class">name</span><span class="const">"</span>)<sup class="ctrl">?</sup></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span><span><span class="class">expression</span><span class="ctrl">*</span></span></span></li></ul><span class="const">&lt;/group&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;choice</span><span class="comment"> Disjunctive processor. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Options. The options are tested in the order given here, until one proceeds. </span></span></li></ul><span class="const">&lt;/choice&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;if</span><span class="comment"> Conditional processing. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">test="</span><span class="kw">text</span><span class="const">"</span></span><span class="comment"> Condition in an XPath expression. </span></span></li><li><span><span><span class="class">mode-attribute</span><sup class="ctrl">?</sup></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> The processor sequence applied when the condition holds. </span></span></li></ul><span class="const">&lt;/if&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;choose&gt;</span><span class="comment"> Conditional branching. </span></span><ul class="inner"><li><span class="ll"><span class="const">&lt;when</span><span class="comment"> The list of conditioned branches. The first branch whose condition holds is processed. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">test="</span><span class="kw">text</span><span class="const">"</span></span><span class="comment"> The condition of the branch in an XPath expression. </span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Processor sequence of the branch. </span></span></li></ul><span class="const">&lt;/when&gt;</span><sup class="kw">+</sup></li><li><span class="ll"><span class="const">&lt;otherwise&gt;</span><span class="comment"> The processor sequence applied none of the `when` conditions apply. </span></span><ul class="inner"><li><span><span><span class="class">expression</span><span class="ctrl">*</span></span></span></li></ul><span class="const">&lt;/otherwise&gt;</span></li></ul><span class="const">&lt;/choose&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;cascade</span><span class="comment"> Cascade processors. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span><span><span class="class">occur-attributes</span></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span><span><span class="class">expression</span><sup class="ctrl">{2..}</sup></span></span></li></ul><span class="const">&lt;/cascade&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;value-of</span><span class="comment"> Writes the value of an XPath expression. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">select="</span><span class="kw">text</span><span class="const">"</span></span><span class="comment"> The XPath expression. </span></span></li></ul><span class="const">/&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;copy-of</span><span class="comment"> Writes the copy of an XPath expression. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">select="</span><span class="kw">text</span><span class="const">"</span></span><span class="comment"> The XPath expression. </span></span></li></ul><span class="const">/&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;element</span><span class="comment"> Writes an element. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><ul class="paren choice"><li><ul><li><span class="ll"><span><span class="const">name="</span><span class="class">name</span><span class="const">"</span></span><span class="comment"> The name of the element. </span></span></li><li class="txtr-children"><span class="const">&gt;</span></li></ul></li><li><ul><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span class="const">&lt;name&gt;</span></span><ul class="inner"><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Processors that produce the name of the element. </span></span></li></ul><span class="const">&lt;/name&gt;</span></li></ul></li></ul>)</li><li class="txtr-children"></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Processors that produce the content of the element. </span></span></li></ul><span class="const">&lt;/element&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;text&gt;</span><span class="comment"> Writes a text content. </span></span><ul class="inner"><li><span class="kw">text</span></li></ul><span class="const">&lt;/text&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;attribute</span><span class="comment"> Writes an attribute. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><ul class="paren choice"><li><ul><li><span class="ll"><span><span class="const">name="</span><span class="class">name</span><span class="const">"</span></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li></ul></li><li><ul><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span class="const">&lt;name&gt;</span></span><ul class="inner"><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Processors to produce the attribute name. </span></span></li></ul><span class="const">&lt;/name&gt;</span></li></ul></li></ul>)</li><li class="txtr-children"></li><li><span><span><span class="class">expression</span><span class="ctrl">*</span></span></span></li></ul><span class="const">&lt;/attribute&gt;</span></li></ul></li><li><ul><li><span class="ll"><span class="const">&lt;comment&gt;</span><span class="comment"> Writes a comment. </span></span><ul class="inner"><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> processors to produce comment. </span></span></li></ul><span class="const">&lt;/comment&gt;</span></li></ul></li><li><ul><span class="comment"> Direct appearence of text means that the text is written. </span><li><span class="kw">text</span></li></ul></li></ul></td></tr></table><table class="class"><tr><th class="class-header"><span class="class">option</span></th><td><ul class="class"><li><ul><li><span class="ll"><span class="const">&lt;option</span><span class="comment"> Represents an option a class can take. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span>(<span class="const">level="</span><span class="regex">[0-9]+</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> The option will be available for the class in levels less or equal to this value. </span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> Content of the option. </span></span></li></ul><span class="const">&lt;/option&gt;</span></li></ul></li></ul></td></tr></table><table class="class"><tr><th class="class-header"><span class="class">class-declaration</span></th><td><ul class="class"><li><ul><li><span class="ll"><span class="const">&lt;class</span></span><ul class="inner"><li><span class="ll"><span><span class="const">name="</span><span class="class">name</span><span class="const">"</span></span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><ul class="paren choice"><li><ul><li><span class="ll"><span><span class="class">option</span><sup class="kw">+</sup></span><span class="comment"> A class may have multiple options. </span></span></li></ul></li><li><ul><li><span class="ll"><span><span class="class">expression</span><span class="ctrl">*</span></span><span class="comment"> If there is only one option, one can directly define of the class. </span></span></li></ul></li></ul>)</li></ul><span class="const">&lt;/class&gt;</span></li></ul></li></ul></td></tr></table><table class="class"><tr><th class="class-header"><span class="kw">root </span></th><td><ul class="class"><li><ul><li><span class="ll"><span class="const">&lt;txtruct</span></span><ul class="inner"><li><span class="ll"><span>(<span class="const">method="</span><span class="class">method</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> specifies output method. </span></span></li><li><span class="ll"><span>(<span class="const">indent="</span><span class="regex">yes|no</span><span class="const">"</span>)<sup class="ctrl">?</sup></span><span class="comment"> controls if the output is indented or not. </span></span></li><li class="txtr-children"><span class="const">&gt;</span></li><li><span class="ll"><span class="const">&lt;input</span><span class="comment"> Specifies the input format. </span></span><ul class="inner"><li class="txtr-attributes"></li><li><span class="ll"><span><span class="const">method="</span><span class="class">method</span><span class="const">"</span></span></span></li></ul><span class="const">/&gt;</span><sup class="ctrl">?</sup></li><li><span><span><span class="class">class-declaration</span><span class="ctrl">*</span></span></span></li><li><span><span><span class="class">expression</span><span class="ctrl">*</span></span></span></li></ul><span class="const">&lt;/txtruct&gt;</span></li></ul></li></ul></td></tr></table></body></html>